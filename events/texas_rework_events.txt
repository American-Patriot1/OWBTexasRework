add_namespace = texas_rework

#DEBUG
country_event = {
	immediate = { log = "[GetDateText]: [Root.GetName]: event texas_rework.1000" }
	id = texas_rework.1000
	title = texas_rework.1000.t
	desc = texas_rework.1000.desc
	is_triggered_only = yes
	# fire_only_once = yes
	picture = GFX_Portrait_TEX_provisional_senate


	option = {
		name = texas_rework.1000.a
		# TBH = {
		# 	add_to_variable = { const_production_speed = 0.1 }
		# 	add_to_variable = { const_factory_efficiency = 0.1 }
		# 	add_to_variable = { const_consumer_goods = -0.1 }
		# 	add_to_variable = { const_political_power_gain = 0.25 }
		# 	add_to_variable = { const_compliance_gain = 0.1 }
		# 	add_to_variable = { const_resitance_target = -0.1 }
		# 	add_to_variable = { stability_week = 0.001 }
		# 	add_to_variable = { out_of_supply = -0.2 }
		# 	add_to_variable = { const_mobilization_speed = 0.25 }
		# 	add_to_variable = { const_conscription = 0.25 }
		# 	add_to_variable = { populations_factor = 0.3 }
		# 	add_to_variable = { research_speed = 0.1 }
		# 	add_to_variable = { const_max_command_power_multi = 0.1 }
		# 	add_to_variable = { war_support_week = 0.002 }
		# 	add_to_variable = { xp_army_gain = 0.01 }
		# 	add_to_variable = { xp_navy_gain = 0.01 }
		# 	add_to_variable = { xp_air_gain = 0.01 }
		# 	add_to_variable = { army_morale_factor = 0.05 }
		# 	add_to_variable = { air_mission_efficiency = 0.05 }
		# }
		set_temp_variable = { caps_to_add = 1000 }
		add_caps = yes
		add_equipment_to_stockpile = {
			type = infantry_equipment_1
			amount = 1000
			producer = USA
		}
				TBH = {
					add_opinion_modifier = {
						target = TAA
						modifier = taa_equipment
					}
				}
	}
}

country_event = {
	immediate = { log = "[GetDateText]: [Root.GetName]: event texas_rework.1001" }
	id = texas_rework.1001
	title = texas_rework.1001.t
	desc = texas_rework.1001.desc
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_Portrait_TEX_provisional_senate


	option = {
		name = texas_rework.1001.a
		TBH = {
			remove_ideas = texas_rework_non_existent_army
			remove_ideas = texas_rework_no_research
			remove_ideas = texas_rework_broken_economy
		}
		TAA = {
			set_temp_variable = { texas_rework_add_market_factories_taa = 10 }
			texas_rework_change_market_factories = yes
		}
		# TBH = {
		# 	load_oob = "TBH_houston_greater"
		# 	load_oob = "TBH_assassin_city_greater"
		# 	load_oob = "TBH_last_lodge_greater"
		# 	load_oob = "TBH_i_20"
		# 	load_oob = "TBH_eden"
		# 	load_oob = "TBH_lincoln"
		# 	load_oob = "TBH_lubbock"
		# 	load_oob = "TBH_taa"
		# 	load_oob = "TBH_patrolmen"
		# }
	}
}

#secret stuff
country_event = { #delete starting templates
	id = texas_rework.1100
	title = texas_rework.1100.t
	desc = texas_rework.1100.d
	picture = GFX_event_sub_generic_airport_interior
	hidden = yes
	fire_only_once = yes
	is_triggered_only = yes
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event texas_rework.1100"
		hidden_effect = {
			TBH = {
				delete_unit_template_and_units = {
					division_template = "Tank Division"
				}
				delete_unit_template_and_units = {
					division_template = "Ghoul Division"
				}
				delete_unit_template_and_units = {
					division_template = "Supermutant Division"
				}
				delete_unit_template_and_units = {
					division_template = "Light Robot Division"
				}
				delete_unit_template_and_units = {
					division_template = "Rioters"
				}
				delete_unit_template_and_units = {
					division_template = "Militia"
				}
			}
		}
	}
}

#initial focuses
country_event = { #unification
	immediate = { log = "[GetDateText]: [Root.GetName]: event texas_rework.1" }
	id = texas_rework.1
	title = texas_rework.1.t
	desc = texas_rework.1.desc
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_event_sub_generic_container_bazaar


	option = { 
		name = texas_rework.1.a
		TBH = {
			add_ideas = {
				history_of_economy
			}
		}
		ai_chance = {
			base = 20
		}
	}
	option = { 
		name = texas_rework.1.b
		TBH = {
			add_ideas = {
				history_of_big_military_yehaw
			}
		}
		ai_chance = {
			base = 10
		}
	}
	option = { 
		name = texas_rework.1.c
		TBH = {
			add_ideas = {
				history_of_tech
			}
		}
		ai_chance = {
			base = 70
		}
	}
	option = { 
		name = texas_rework.1.d
		TBH = {
			add_ideas = {
				history_of_big_population
			}
		}
		ai_chance = {
			base = 0
		}
	}
}

country_event = { #junta or constitutional choice
	immediate = { log = "[GetDateText]: [Root.GetName]: event texas_rework.2" }
	id = texas_rework.2
	title = texas_rework.2.t
	desc = texas_rework.2.desc
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_event_sub_generic_container_bazaar


	option = { #junta
		name = texas_rework.2.a
		TBH = {
			set_politics = { ruling_party = ruler elections_allowed = no }
			add_stability = -0.1
			add_ideas = {
				texas_rework_junta_stability
			}
		}
		ai_chance = {
			base = 70
		}
	}
	option = { #constitution
		name = texas_rework.2.b
		ai_chance = {
			base = 30
		}
	}
}

country_event = { #junta stabilize
	immediate = { log = "[GetDateText]: [Root.GetName]: event texas_rework.3" }
	id = texas_rework.3
	title = texas_rework.3.t
	desc = texas_rework.3.desc
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_event_sub_generic_container_bazaar


	option = { 
		name = texas_rework.3.a
		TBH = {
			add_timed_idea = {
				idea = texas_rework_junta_stability_research
    			days = 365
			}
		}
		ai_chance = {
			base = 20
		}
	}
	option = { 
		name = texas_rework.3.b
		TBH = {
			add_timed_idea = {
				idea = texas_rework_junta_stability_economy
    			days = 365
			}
		}
		ai_chance = {
			base = 20
		}
	}
	option = { 
		name = texas_rework.3.c
		TBH = {
			add_timed_idea = {
				idea = texas_rework_junta_stability_military
    			days = 365
			}
		}
		ai_chance = {
			base = 20
		}
	}
}

country_event = { #constitutional stabilize
	immediate = { log = "[GetDateText]: [Root.GetName]: event texas_rework.5" }
	id = texas_rework.5
	title = texas_rework.5.t
	desc = texas_rework.5.desc
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_event_sub_generic_container_bazaar


	option = { 
		name = texas_rework.5.a
		TBH = {
			add_ideas = {
				
			}
		}
		ai_chance = {
			base = 20
		}
	}
	option = { 
		name = texas_rework.5.b
		TBH = {
			add_ideas = {
				
			}
		}
		ai_chance = {
			base = 20
		}
	}
	option = { 
		name = texas_rework.5.c
		TBH = {
			add_ideas = {
				
			}
		}
		ai_chance = {
			base = 20
		}
	}
}

country_event = { #junta intervention
	immediate = { log = "[GetDateText]: [Root.GetName]: event texas_rework.4" }
	id = texas_rework.4
	title = texas_rework.4.t
	desc = texas_rework.4.desc
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_event_sub_generic_container_bazaar


	option = { 
		name = texas_rework.4.a
		every_country = {
			limit = {
				has_idea = texas_rework_intervention_target_east
				has_idea = texas_rework_texas_economic_union_ally
			}
			remove_ideas = {
				texas_rework_intervention_target_east
			}
			add_ideas = {
				texas_rework_intervention_target_support
			}
			add_to_array = { global.texas_rework_active_interventions = THIS.id }
		}
		
		every_country = {
			limit = {
				has_idea = texas_rework_intervention_target_east
				has_idea = texas_rework_texas_economic_union_investments
			}
			remove_ideas = {
				texas_rework_intervention_target_east
			}
			add_ideas = {
				texas_rework_intervention_target_potential
			}
			add_to_array = { global.texas_rework_active_interventions = THIS.id }
		}
		every_country = {
			limit = {
				has_idea = texas_rework_intervention_target_east
			}
			remove_ideas = {
				texas_rework_intervention_target_east
			}
			add_ideas = {
				texas_rework_intervention_target_active
			}
			add_to_array = { global.texas_rework_active_interventions = THIS.id }
		}
		ai_chance = {
			base = 25
		}
	}
	option = { 
		name = texas_rework.4.b
		every_country = {
			limit = {
				has_idea = texas_rework_intervention_target_west
				has_idea = texas_rework_texas_economic_union_ally
			}
			remove_ideas = {
				texas_rework_intervention_target_west
			}
			add_ideas = {
				texas_rework_intervention_target_support
			}
			add_to_array = { global.texas_rework_active_interventions = THIS.id }
		}
		every_country = {
			limit = {
				has_idea = texas_rework_intervention_target_west
				has_idea = texas_rework_texas_economic_union_investments
			}
			remove_ideas = {
				texas_rework_intervention_target_west
			}
			add_ideas = {
				texas_rework_intervention_target_potential
			}
			add_to_array = { global.texas_rework_active_interventions = THIS.id }
		}
		every_country = {
			limit = {
				has_idea = texas_rework_intervention_target_west
			}
			remove_ideas = {
				texas_rework_intervention_target_west
			}
			add_ideas = {
				texas_rework_intervention_target_active
			}
			add_to_array = { global.texas_rework_active_interventions = THIS.id }
		}
		ai_chance = {
			base = 25
		}
	}
	option = { 
		name = texas_rework.4.c
		every_country = {
			limit = {
				has_idea = texas_rework_intervention_target_north
				has_idea = texas_rework_texas_economic_union_ally
			}
			remove_ideas = {
				texas_rework_intervention_target_north
			}
			add_ideas = {
				texas_rework_intervention_target_support
			}
			add_to_array = { global.texas_rework_active_interventions = THIS.id }
		}
		every_country = {
			limit = {
				has_idea = texas_rework_intervention_target_north
				has_idea = texas_rework_texas_economic_union_investments
			}
			remove_ideas = {
				texas_rework_intervention_target_north
			}
			add_ideas = {
				texas_rework_intervention_target_potential
			}
			add_to_array = { global.texas_rework_active_interventions = THIS.id }
		}
		every_country = {
			limit = {
				has_idea = texas_rework_intervention_target_north
			}
			remove_ideas = {
				texas_rework_intervention_target_north
			}
			add_ideas = {
				texas_rework_intervention_target_active
			}
			add_to_array = { global.texas_rework_active_interventions = THIS.id }
		}
		ai_chance = {
			base = 25
		}
	}
	option = { 
		name = texas_rework.4.d
		every_country = {
			limit = {
				has_idea = texas_rework_intervention_target_south
				has_idea = texas_rework_texas_economic_union_ally
			}
			remove_ideas = {
				texas_rework_intervention_target_south
			}
			add_ideas = {
				texas_rework_intervention_target_support
			}
			add_to_array = { global.texas_rework_active_interventions = THIS.id }
		}
		every_country = {
			limit = {
				has_idea = texas_rework_intervention_target_south
				has_idea = texas_rework_texas_economic_union_investments
			}
			remove_ideas = {
				texas_rework_intervention_target_south
			}
			add_ideas = {
				texas_rework_intervention_target_potential
			}
			add_to_array = { global.texas_rework_active_interventions = THIS.id }
		}
		every_country = {
			limit = {
				has_idea = texas_rework_intervention_target_south
			}
			remove_ideas = {
				texas_rework_intervention_target_south
			}
			add_ideas = {
				texas_rework_intervention_target_active
			}
			add_to_array = { global.texas_rework_active_interventions = THIS.id }
		}
		ai_chance = {
			base = 25
		}
	}
}

country_event = { #constitutional intervention
	immediate = { log = "[GetDateText]: [Root.GetName]: event texas_rework.6" }
	id = texas_rework.6
	title = texas_rework.6.t
	desc = texas_rework.6.desc
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_event_sub_generic_container_bazaar


	option = { 
		name = texas_rework.6.a
		every_country = {
			limit = {
				has_idea = texas_rework_intervention_target_east
				has_idea = texas_rework_texas_economic_union_ally
			}
			remove_ideas = {
				texas_rework_intervention_target_east
			}
			add_ideas = {
				texas_rework_intervention_target_support
			}
			add_to_array = { global.texas_rework_active_interventions = THIS.id }
		}
		every_country = {
			limit = {
				has_idea = texas_rework_intervention_target_east
				has_idea = texas_rework_texas_economic_union_investments
			}
			remove_ideas = {
				texas_rework_intervention_target_east
			}
			add_ideas = {
				texas_rework_intervention_target_potential
			}
			add_to_array = { global.texas_rework_active_interventions = THIS.id }
		}
		every_country = {
			limit = {
				has_idea = texas_rework_intervention_target_east
			}
			remove_ideas = {
				texas_rework_intervention_target_east
			}
			add_ideas = {
				texas_rework_intervention_target_active
			}
			add_to_array = { global.texas_rework_active_interventions = THIS.id }
		}
		ai_chance = {
			base = 25
		}
	}
	option = { 
		name = texas_rework.6.b
		every_country = {
			limit = {
				has_idea = texas_rework_intervention_target_west
				has_idea = texas_rework_texas_economic_union_ally
			}
			remove_ideas = {
				texas_rework_intervention_target_west
			}
			add_ideas = {
				texas_rework_intervention_target_support
			}
			add_to_array = { global.texas_rework_active_interventions = THIS.id }
		}
		every_country = {
			limit = {
				has_idea = texas_rework_intervention_target_west
				has_idea = texas_rework_texas_economic_union_investments
			}
			remove_ideas = {
				texas_rework_intervention_target_west
			}
			add_ideas = {
				texas_rework_intervention_target_potential
			}
			add_to_array = { global.texas_rework_active_interventions = THIS.id }
		}
		every_country = {
			limit = {
				has_idea = texas_rework_intervention_target_west
			}
			remove_ideas = {
				texas_rework_intervention_target_west
			}
			add_ideas = {
				texas_rework_intervention_target_active
			}
			add_to_array = { global.texas_rework_active_interventions = THIS.id }
		}
		ai_chance = {
			base = 25
		}
	}
	option = { 
		name = texas_rework.6.c
		every_country = {
			limit = {
				has_idea = texas_rework_intervention_target_north
				has_idea = texas_rework_texas_economic_union_ally
			}
			remove_ideas = {
				texas_rework_intervention_target_north
			}
			add_ideas = {
				texas_rework_intervention_target_support
			}
			add_to_array = { global.texas_rework_active_interventions = THIS.id }
		}
		every_country = {
			limit = {
				has_idea = texas_rework_intervention_target_north
				has_idea = texas_rework_texas_economic_union_investments
			}
			remove_ideas = {
				texas_rework_intervention_target_north
			}
			add_ideas = {
				texas_rework_intervention_target_potential
			}
			add_to_array = { global.texas_rework_active_interventions = THIS.id }
		}
		every_country = {
			limit = {
				has_idea = texas_rework_intervention_target_north
			}
			remove_ideas = {
				texas_rework_intervention_target_north
			}
			add_ideas = {
				texas_rework_intervention_target_active
			}
			add_to_array = { global.texas_rework_active_interventions = THIS.id }
		}
		ai_chance = {
			base = 25
		}
	}
	option = { 
		name = texas_rework.6.d
		every_country = {
			limit = {
				has_idea = texas_rework_intervention_target_south
				has_idea = texas_rework_texas_economic_union_ally
			}
			remove_ideas = {
				texas_rework_intervention_target_south
			}
			add_ideas = {
				texas_rework_intervention_target_support
			}
			add_to_array = { global.texas_rework_active_interventions = THIS.id }
		}
		every_country = {
			limit = {
				has_idea = texas_rework_intervention_target_south
				has_idea = texas_rework_texas_economic_union_investments
			}
			remove_ideas = {
				texas_rework_intervention_target_south
			}
			add_ideas = {
				texas_rework_intervention_target_potential
			}
			add_to_array = { global.texas_rework_active_interventions = THIS.id }
		}
		every_country = {
			limit = {
				has_idea = texas_rework_intervention_target_south
			}
			remove_ideas = {
				texas_rework_intervention_target_south
			}
			add_ideas = {
				texas_rework_intervention_target_active
			}
			add_to_array = { global.texas_rework_active_interventions = THIS.id }
		}
		ai_chance = {
			base = 25
		}
	}
}



#election
add_namespace = texas_rework_election
##
country_event = {
	id = texas_rework_election.1
	title = texas_rework_election.1.t
	desc = {
		trigger = {
			TBH = {
				has_country_leader = {
					character = TBH_aaron_kimball
				}
			}
		}
		text = texas_rework_election.1.d
	}
	desc = {
		trigger = {
			TBH = {
				has_country_leader = {
					character = TBH_allgood_murphy
				}
			}
		}
		text = texas_rework_election.1.d.2
	}
	desc = {
		trigger = {
			has_country_leader = {
				character = TBH_allgood_murphy
			}
		}
		text = texas_rework_election.1.d.3
	}
	desc = {
		trigger = {
			TBH = {
				has_country_leader = {
					character = TBH_aaron_kimball
				}
			}
		}
		text = texas_rework_election.1.d.4
	}
	is_triggered_only = yes
	picture = GFX_event_NCR_congress
	option = {
		trigger = {
			TBH = {
				has_country_leader = {
					character = TBH_aaron_kimball
				}
			}
		}
		name = texas_rework_election.1.a #Hayes and Kimball - Go with Kimball
		set_country_flag = hayes_rallies_against_us
		set_country_flag = kimball_for_president
		set_variable = { global.texas_rework_first_candidate_id = 2 }
		set_variable = { global.texas_rework_second_candidate_id = 3 }
		if = {
			limit = {
				has_country_flag = hayes_election_dayglow_1
			}
			set_temp_variable = { state_id = 2 }
			set_temp_variable = { candidate_id = global.texas_rework_second_candidate_id }
			set_temp_variable = { support_to_add = 51 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = hayes_dayglow_support_1
		}
		if = {
			limit = {
				has_country_flag = hayes_election_dayglow_2
			}
			set_temp_variable = { state_id = 2 }
			set_temp_variable = { candidate_id = global.texas_rework_second_candidate_id }
			set_temp_variable = { support_to_add = 30 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = hayes_dayglow_support_2
		}
		if = {
			limit = {
				has_country_flag = hayes_election_maxson_1
			}
			set_temp_variable = { state_id = 3 }
			set_temp_variable = { candidate_id = global.texas_rework_second_candidate_id }
			set_temp_variable = { support_to_add = 30 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = hayes_maxson_support_1
		}
		if = {
			limit = {
				has_country_flag = hayes_election_maxson_2
			}
			set_temp_variable = { state_id = 3 }
			set_temp_variable = { candidate_id = global.texas_rework_second_candidate_id }
			set_temp_variable = { support_to_add = 30 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = hayes_maxson_support_2
		}
		if = {
			limit = {
				has_country_flag = hayes_election_shady_sands_1
			}
			set_temp_variable = { state_id = 5 }
			set_temp_variable = { candidate_id = global.texas_rework_second_candidate_id }
			set_temp_variable = { support_to_add = 30 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = hayes_shady_sands_support_1
		}
		if = {
			limit = {
				has_country_flag = hayes_election_shady_sands_2
			}
			set_temp_variable = { state_id = 5 }
			set_temp_variable = { candidate_id = global.texas_rework_second_candidate_id }
			set_temp_variable = { support_to_add = 30 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = hayes_shady_sands_support_2
		}
		if = {
			limit = {
				has_country_flag = kimball_redding_1
			}
			set_temp_variable = { state_id = 4 }
			set_temp_variable = { candidate_id = global.texas_rework_first_candidate_id }
			set_temp_variable = { support_to_add = 51 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = kimball_redding_1_tt
		}
		if = {
			limit = {
				has_country_flag = kimball_shady_sands_businesses_happy
			}
			set_temp_variable = { state_id = 5 }
			set_temp_variable = { candidate_id = global.texas_rework_first_candidate_id }
			set_temp_variable = { support_to_add = 30 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = kimball_shady_sands_businesses_happy_tt
		}
		if = {
			limit = {
				has_country_flag = kimball_brahmin_barons_happy
			}
			set_temp_variable = { state_id = 4 }
			set_temp_variable = { candidate_id = global.texas_rework_first_candidate_id }
			set_temp_variable = { support_to_add = 30 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = kimball_barons_happy_tt
		}
		set_country_flag = texas_rework_elections_gui_allowed_flag
		activate_mission = texas_rework_presidential_election_countdown
		custom_effect_tooltip = texas_rework_election_tt
		set_country_flag = texas_rework_election_happening
	}
	option = {
		name = texas_rework_election.1.b # Hayes and Kimball - Go with Hayes
		set_country_flag = kimball_rallies_against_us
		custom_effect_tooltip = texas_rework_election_tt
		set_country_flag = texas_rework_elections_gui_allowed_flag
		activate_mission = texas_rework_presidential_election_countdown
		set_country_flag = hayes_for_president
		trigger = {
			has_country_leader = {
				character = TBH_aaron_kimball
			}
		}
		set_variable = { global.texas_rework_first_candidate_id = 2 }
		set_variable = { global.texas_rework_second_candidate_id = 3 }
		if = {
			limit = {
				has_country_flag = hayes_election_dayglow_1
			}
			set_temp_variable = { state_id = 2 }
			set_temp_variable = { candidate_id = global.texas_rework_second_candidate_id }
			set_temp_variable = { support_to_add = 30 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = hayes_dayglow_support_1
		}
		if = {
			limit = {
				has_country_flag = hayes_election_dayglow_2
			}
			set_temp_variable = { state_id = 2 }
			set_temp_variable = { candidate_id = global.texas_rework_second_candidate_id }
			set_temp_variable = { support_to_add = 30 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = hayes_dayglow_support_2
		}
		if = {
			limit = {
				has_country_flag = hayes_election_maxson_1
			}
			set_temp_variable = { state_id = 3 }
			set_temp_variable = { candidate_id = global.texas_rework_second_candidate_id }
			set_temp_variable = { support_to_add = 30 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = hayes_maxson_support_1
		}
		if = {
			limit = {
				has_country_flag = hayes_election_maxson_2
			}
			set_temp_variable = { state_id = 3 }
			set_temp_variable = { candidate_id = global.texas_rework_second_candidate_id }
			set_temp_variable = { support_to_add = 30 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = hayes_maxson_support_2
		}
		if = {
			limit = {
				has_country_flag = hayes_election_shady_sands_1
			}
			set_temp_variable = { state_id = 5 }
			set_temp_variable = { candidate_id = global.texas_rework_second_candidate_id }
			set_temp_variable = { support_to_add = 30 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = hayes_shady_sands_support_1
		}
		if = {
			limit = {
				has_country_flag = hayes_election_shady_sands_2
			}
			set_temp_variable = { state_id = 5 }
			set_temp_variable = { candidate_id = global.texas_rework_second_candidate_id }
			set_temp_variable = { support_to_add = 30 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = hayes_shady_sands_support_2
		}
		if = {
			limit = {
				has_country_flag = kimball_redding_1
			}
			set_temp_variable = { state_id = 4 }
			set_temp_variable = { candidate_id = global.texas_rework_first_candidate_id }
			set_temp_variable = { support_to_add = 30 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = kimball_redding_1_tt
		}
		if = {
			limit = {
				has_country_flag = kimball_shady_sands_businesses_happy
			}
			set_temp_variable = { state_id = 5 }
			set_temp_variable = { candidate_id = global.texas_rework_first_candidate_id }
			set_temp_variable = { support_to_add = 30 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = kimball_shady_sands_businesses_happy_tt
		}
		if = {
			limit = {
				has_country_flag = kimball_brahmin_barons_happy
			}
			set_temp_variable = { state_id = 4 }
			set_temp_variable = { candidate_id = global.texas_rework_first_candidate_id }
			set_temp_variable = { support_to_add = 30 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = kimball_barons_happy_tt
		}
	}
	option = {
		name = texas_rework_election.1.c # Hayes and Murphy - go with Murphy
		trigger = {
			has_country_leader = {
				character = TBH_allgood_murphy
			}
		}
		custom_effect_tooltip = texas_rework_election_tt
		set_variable = { global.texas_rework_first_candidate_id = 1 }
		set_variable = { global.texas_rework_second_candidate_id = 3 }
		if = {
			limit = {
				has_country_flag = texas_rework_murphy_pleased_boneyard
			}
			set_temp_variable = { state_id = 1 }
			set_temp_variable = { candidate_id = global.texas_rework_first_candidate_id }
			set_temp_variable = { support_to_add = 30 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = murphy_pleased_boneyard_1_tt
		}
		if = {
			limit = {
				has_country_flag = texas_rework_murphy_pleased_maxson
			}
			set_temp_variable = { state_id = 3 }
			set_temp_variable = { candidate_id = global.texas_rework_first_candidate_id }
			set_temp_variable = { support_to_add = 30 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = murphy_support_maxson_1_tt
		}
		if = {
			limit = {
				has_country_flag = hayes_election_dayglow_1
			}
			set_temp_variable = { state_id = 2 }
			set_temp_variable = { candidate_id = global.texas_rework_second_candidate_id }
			set_temp_variable = { support_to_add = 30 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = hayes_dayglow_support_1
		}
		if = {
			limit = {
				has_country_flag = hayes_election_dayglow_2
			}
			set_temp_variable = { state_id = 2 }
			set_temp_variable = { candidate_id = global.texas_rework_second_candidate_id }
			set_temp_variable = { support_to_add = 30 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = hayes_dayglow_support_2
		}
		if = {
			limit = {
				has_country_flag = hayes_election_maxson_1
			}
			set_temp_variable = { state_id = 3 }
			set_temp_variable = { candidate_id = global.texas_rework_second_candidate_id }
			set_temp_variable = { support_to_add = 30 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = hayes_maxson_support_1
		}
		if = {
			limit = {
				has_country_flag = hayes_election_maxson_2
			}
			set_temp_variable = { state_id = 3 }
			set_temp_variable = { candidate_id = global.texas_rework_second_candidate_id }
			set_temp_variable = { support_to_add = 30 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = hayes_maxson_support_2
		}
		if = {
			limit = {
				has_country_flag = hayes_election_shady_sands_1
			}
			set_temp_variable = { state_id = 5 }
			set_temp_variable = { candidate_id = global.texas_rework_second_candidate_id }
			set_temp_variable = { support_to_add = 30 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = hayes_shady_sands_support_1
		}
		if = {
			limit = {
				has_country_flag = hayes_election_shady_sands_2
			}
			set_temp_variable = { state_id = 5 }
			set_temp_variable = { candidate_id = global.texas_rework_second_candidate_id }
			set_temp_variable = { support_to_add = 30 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = hayes_shady_sands_support_2
		}
		set_country_flag = hayes_rallies_against_us
		set_country_flag = murphy_for_president
		set_country_flag = texas_rework_elections_gui_allowed_flag
		activate_mission = texas_rework_presidential_election_countdown
		set_country_flag = texas_rework_election_happening
	}
	option = {
		name = texas_rework_election.1.e # Hayes and Murphy - go with Hayes
		trigger = {
			has_country_leader = {
				character = TBH_allgood_murphy
			}
		}
		custom_effect_tooltip = texas_rework_election_tt
		set_variable = { global.texas_rework_first_candidate_id = 1 }
		set_variable = { global.texas_rework_second_candidate_id = 3 }
		set_country_flag = murphy_rallies_against_us
		set_country_flag = hayes_for_president
		set_country_flag = texas_rework_elections_gui_allowed_flag
		activate_mission = texas_rework_presidential_election_countdown
		if = {
			limit = {
				has_country_flag = texas_rework_murphy_pleased_boneyard
			}
			set_temp_variable = { state_id = 1 }
			set_temp_variable = { candidate_id = global.texas_rework_first_candidate_id }
			set_temp_variable = { support_to_add = 30 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = murphy_pleased_boneyard_1_tt
		}
		if = {
			limit = {
				has_country_flag = texas_rework_murphy_pleased_maxson
			}
			set_temp_variable = { state_id = 3 }
			set_temp_variable = { candidate_id = global.texas_rework_first_candidate_id }
			set_temp_variable = { support_to_add = 30 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = murphy_support_maxson_1_tt
		}
		if = {
			limit = {
				has_country_flag = hayes_election_dayglow_1
			}
			set_temp_variable = { state_id = 2 }
			set_temp_variable = { candidate_id = global.texas_rework_second_candidate_id }
			set_temp_variable = { support_to_add = 30 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = hayes_dayglow_support_1
		}
		if = {
			limit = {
				has_country_flag = hayes_election_dayglow_2
			}
			set_temp_variable = { state_id = 2 }
			set_temp_variable = { candidate_id = global.texas_rework_second_candidate_id }
			set_temp_variable = { support_to_add = 30 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = hayes_dayglow_support_2
		}
		if = {
			limit = {
				has_country_flag = hayes_election_maxson_1
			}
			set_temp_variable = { state_id = 3 }
			set_temp_variable = { candidate_id = global.texas_rework_second_candidate_id }
			set_temp_variable = { support_to_add = 30 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = hayes_maxson_support_1
		}
		if = {
			limit = {
				has_country_flag = hayes_election_maxson_2
			}
			set_temp_variable = { state_id = 3 }
			set_temp_variable = { candidate_id = global.texas_rework_second_candidate_id }
			set_temp_variable = { support_to_add = 30 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = hayes_maxson_support_2
		}
		if = {
			limit = {
				has_country_flag = hayes_election_shady_sands_1
			}
			set_temp_variable = { state_id = 5 }
			set_temp_variable = { candidate_id = global.texas_rework_second_candidate_id }
			set_temp_variable = { support_to_add = 30 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = hayes_shady_sands_support_1
		}
		if = {
			limit = {
				has_country_flag = hayes_election_shady_sands_2
			}
			set_temp_variable = { state_id = 5 }
			set_temp_variable = { candidate_id = global.texas_rework_second_candidate_id }
			set_temp_variable = { support_to_add = 30 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = hayes_shady_sands_support_2
		}
		set_country_flag = texas_rework_election_happening
	}
	option = {
		trigger = {
			TBH = {
				has_country_leader = {
					character = TBH_aaron_kimball
				}
			}
		}
		name = texas_rework_election.1.f #Hayes and Granite - Go with Granite
		set_country_flag = kimball_for_president
		set_variable = { global.texas_rework_first_candidate_id = 2 }
		set_variable = { global.texas_rework_second_candidate_id = 4 }
		if = {
			limit = {
				has_country_flag = hayes_election_dayglow_1
			}
			set_temp_variable = { state_id = 2 }
			set_temp_variable = { candidate_id = global.texas_rework_first_candidate_id }
			set_temp_variable = { support_to_add = 15 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = hayes_dayglow_support_1
		}
		if = {
			limit = {
				has_country_flag = hayes_election_dayglow_2
			}
			set_temp_variable = { state_id = 2 }
			set_temp_variable = { candidate_id = global.texas_rework_first_candidate_id }
			set_temp_variable = { support_to_add = 30 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = hayes_dayglow_support_2
		}
		if = {
			limit = {
				has_country_flag = hayes_election_maxson_1
			}
			set_temp_variable = { state_id = 3 }
			set_temp_variable = { candidate_id = global.texas_rework_first_candidate_id }
			set_temp_variable = { support_to_add = 30 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = hayes_maxson_support_1
		}
		if = {
			limit = {
				has_country_flag = hayes_election_maxson_2
			}
			set_temp_variable = { state_id = 3 }
			set_temp_variable = { candidate_id = global.texas_rework_first_candidate_id }
			set_temp_variable = { support_to_add = 30 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = hayes_maxson_support_2
		}
		if = {
			limit = {
				has_country_flag = hayes_election_shady_sands_1
			}
			set_temp_variable = { state_id = 5 }
			set_temp_variable = { candidate_id = global.texas_rework_first_candidate_id }
			set_temp_variable = { support_to_add = 30 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = hayes_shady_sands_support_1
		}
		if = {
			limit = {
				has_country_flag = hayes_election_shady_sands_2
			}
			set_temp_variable = { state_id = 5 }
			set_temp_variable = { candidate_id = global.texas_rework_first_candidate_id }
			set_temp_variable = { support_to_add = 30 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = hayes_shady_sands_support_2
		}
		if = {
			limit = {
				has_country_flag = kimball_redding_1
			}
			set_temp_variable = { state_id = 4 }
			set_temp_variable = { candidate_id = global.texas_rework_first_candidate_id }
			set_temp_variable = { support_to_add = 51 }
			texas_rework_elections_add_support_effect = yes
			custom_effect_tooltip = kimball_redding_1_tt
		}
		TBH ={
			set_country_flag = texas_rework_elections_gui_allowed_flag
			activate_mission = texas_rework_presidential_election_countdown
		}
		custom_effect_tooltip = texas_rework_election_tt
		set_country_flag = texas_rework_election_happening
	}
}

country_event = {
	id = texas_rework_election.2 #election stuff
	title = texas_rework_election.2.t
	desc = texas_rework_election.2.d
	is_triggered_only = yes
	picture = GFX_event_texas_rework_congress
	option = {
		name = texas_rework_election.2.a
		trigger  = {
			is_ai = no
			check_variable = {
				texas_rework_elections_winner_id = global.texas_rework_first_candidate_id ###
			}
			check_variable = {
				global.texas_rework_first_candidate_id = 2  ## Kimball
			}
		}
		complete_national_focus = texas_rework_kimball_address
		every_country = {
			news_event = texas_rework_election_results.3
		}
		clr_country_flag = kimball_rallies_against_us
		clr_country_flag = kimball_for_president
		clr_country_flag = texas_rework_elections_gui_allowed_flag
		clr_country_flag = hayes_rallies_against_us
		clr_country_flag = murphy_for_president
		clr_country_flag = murphy_rallies_against_us
		if = {
			limit = {
				has_country_flag = kimball_rallies_against_us
			}
			add_stability = -0.25
			add_political_power = -250
			custom_effect_tooltip = challenger_won_tt
		}
	}
	option = {
		name = texas_rework_election.2.b
		trigger  = {
			is_ai = no
			check_variable = {
				texas_rework_elections_winner_id = global.texas_rework_first_candidate_id ###
			}
			check_variable = {
				global.texas_rework_first_candidate_id = 1  ## Murphy
			}
		}
		complete_national_focus = texas_rework_allgood_address
		ai_chance = {
			base = 1
			modifier = {
				add = 30
			}
		}
		every_country = {
			news_event = texas_rework_election_results.2
		}
		clr_country_flag = kimball_rallies_against_us
		clr_country_flag = kimball_for_president
		clr_country_flag = texas_rework_elections_gui_allowed_flag
		clr_country_flag = hayes_rallies_against_us
		clr_country_flag = murphy_for_president
		clr_country_flag = murphy_rallies_against_us
		if = {
			limit = {
				has_country_flag = murphy_rallies_against_us
			}
			add_stability = -0.25
			add_political_power = -250
			custom_effect_tooltip = challenger_won_tt
		}
	}
	option = {
		name = texas_rework_election.2.c
		trigger  = {
			is_ai = no
			check_variable = {
				texas_rework_elections_winner_id = global.texas_rework_second_candidate_id ###
			}
			check_variable = {
				global.texas_rework_second_candidate_id = 3  ## Hayes
			}
		}
		every_country = {
			news_event = texas_rework_election_results.1
		}
		complete_national_focus = texas_rework_dreams_of_old
		if = {
			limit = {
				has_country_leader = {	character = texas_rework_aaron_kimball }
			}
			retire_character = texas_rework_aaron_kimball
		}
		if = {
			limit = {
				has_country_leader = {	character = texas_rework_allgood_murphy }
			}
			retire_character = texas_rework_allgood_murphy
		}
		if = {
			limit = {
				has_country_flag = hayes_rallies_against_us
			}
			add_stability = -0.25
			add_political_power = -250
			custom_effect_tooltip = challenger_won_tt
		}
		set_politics = {
			ruling_party = intellectuals
			elections_allowed = no
		}
		add_popularity = {
			ideology = intellectuals
			popularity = 0.40
		}
		clr_country_flag = hayes_rallies_against_us
		clr_country_flag = kimball_for_president
		clr_country_flag = kimball_rallies_against_us
		clr_country_flag = texas_rework_elections_gui_allowed_flag
		clr_country_flag = hayes_rallies_against_us
		clr_country_flag = murphy_for_president
		clr_country_flag = murphy_rallies_against_us
	}
	option = {
		name = texas_rework_election.2.e
		trigger = {
			is_ai = no
		}
		complete_national_focus = texas_rework_electoral_deadlock
		every_country = {
			news_event = texas_rework_election_results.4
		}
		clr_country_flag = hayes_rallies_against_us
		clr_country_flag = kimball_for_president
		clr_country_flag = kimball_rallies_against_us
		clr_country_flag = texas_rework_elections_gui_allowed_flag
		clr_country_flag = hayes_rallies_against_us
		clr_country_flag = murphy_for_president
		clr_country_flag = murphy_rallies_against_us
	}
	option = {
		name = texas_rework_election.2.f
		trigger = {
			is_ai = yes
		}
		if = {
			limit = {
				OR = {
					has_country_flag = texas_rework_ai_behavior_electoral_deadlock_kimball
					has_country_flag = texas_rework_ai_behavior_electoral_deadlock_allgood
				}
			}
			complete_national_focus = texas_rework_electoral_deadlock
			every_country = {
				news_event = texas_rework_election_results.4
			}
			clr_country_flag = hayes_rallies_against_us
			clr_country_flag = kimball_for_president
			clr_country_flag = kimball_rallies_against_us
			clr_country_flag = texas_rework_elections_gui_allowed_flag
			clr_country_flag = hayes_rallies_against_us
			clr_country_flag = murphy_for_president
			clr_country_flag = murphy_rallies_against_us
		}
		else_if = {
			limit = {
				has_country_flag = texas_rework_ai_behavior_hayes
			}
			if = {
				limit = {
					has_country_leader = {	character = texas_rework_aaron_kimball }
				}
				retire_character = texas_rework_aaron_kimball
			}
			if = {
				limit = {
					has_country_leader = {	character = texas_rework_allgood_murphy }
				}
				retire_character = texas_rework_allgood_murphy
			}
			set_politics = {
				ruling_party = intellectuals
				elections_allowed = no
			}
			add_popularity = {
				ideology = intellectuals
				popularity = 0.40
			}
			every_country = {
				news_event = texas_rework_election_results.1
			}
			clr_country_flag = hayes_rallies_against_us
			clr_country_flag = kimball_for_president
			clr_country_flag = kimball_rallies_against_us
			clr_country_flag = texas_rework_elections_gui_allowed_flag
			clr_country_flag = hayes_rallies_against_us
			clr_country_flag = murphy_for_president
			clr_country_flag = murphy_rallies_against_us
		}
		else = {
			if = {
				limit = {
					has_country_leader = {	character = texas_rework_aaron_kimball }
				}
				complete_national_focus = texas_rework_kimball_address
				every_country = {
					news_event = texas_rework_election_results.3
				}
				clr_country_flag = hayes_rallies_against_us
				clr_country_flag = kimball_for_president
				clr_country_flag = kimball_rallies_against_us
				clr_country_flag = texas_rework_elections_gui_allowed_flag
				clr_country_flag = hayes_rallies_against_us
				clr_country_flag = murphy_for_president
				clr_country_flag = murphy_rallies_against_us
			}
			if = {
				limit = {
					has_country_leader = {	character = texas_rework_allgood_murphy }
				}
				complete_national_focus = texas_rework_allgood_address
				every_country = {
					news_event = texas_rework_election_results.2
				}
				clr_country_flag = hayes_rallies_against_us
				clr_country_flag = kimball_for_president
				clr_country_flag = kimball_rallies_against_us
				clr_country_flag = texas_rework_elections_gui_allowed_flag
				clr_country_flag = hayes_rallies_against_us
				clr_country_flag = murphy_for_president
				clr_country_flag = murphy_rallies_against_us
			}
		}
	}
}

#Constitution events
country_event = {
	immediate = { log = "[GetDateText]: [Root.GetName]: event texas_rework.100" }
	id = texas_rework.100
	title = texas_rework.100.t
	desc = texas_rework.100.desc
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_event_sub_generic_container_bazaar


	option = { # industry
		name = texas_rework.100.a
		TBH = {
			add_to_variable = { const_production_speed = 0.1 }
			add_to_variable = { const_factory_efficiency = 0.1 }
			add_to_variable = { const_consumer_goods = -0.1 }
		}
		ai_chance = {
			base = 20
		}
	}
	option = { # political
		name = texas_rework.100.b
		TBH = {
			add_to_variable = { const_political_power_gain = 0.25 }
			add_to_variable = { const_compliance_gain = 0.1 }
			add_to_variable = { const_resitance_target = -0.1 }
			add_to_variable = { stability_week = 0.001 }
			add_to_variable = { out_of_supply = -0.2 }
		}
		ai_chance = {
			base = 10
		}
	}
	option = { # pop
		name = texas_rework.100.c
		TBH = {
			every_owned_state = {
				set_temp_variable = {
					pop_add = 1000
				}
				add_state_population_no_state_name = yes
			}
			add_to_variable = { const_mobilization_speed = 0.25 }
			add_to_variable = { const_conscription = 0.2 }
			add_to_variable = { populations_factor = 0.3 }
			add_to_variable = { research_speed = 0.1 }
		}
		ai_chance = {
			base = 70
		}
	}
	option = { # military
		name = texas_rework.100.d
		TBH = {
			add_to_variable = { const_max_command_power_multi = 0.1 }
			add_to_variable = { war_support_week = 0.002 }
			add_to_variable = { xp_army_gain = 0.01 }
			add_to_variable = { xp_navy_gain = 0.01 }
			add_to_variable = { xp_air_gain = 0.01 }
			add_to_variable = { army_morale_factor = 0.05 }
			add_to_variable = { air_mission_efficiency = 0.05 }
		}
		ai_chance = {
			base = 0
		}
	}
}

#country world events
news_event = { #Alamo Betrayal
	immediate = { log = "[GetDateText]: [Root.GetName]: event texas_rework.900" }
	id = texas_rework.900
	title = nf_tbh.25.t
	desc = nf_tbh.25.d
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_event_sub_generic_container_bazaar

	immediate = {
		hidden_effect = {
			add_resource = {
				type = composites
				amount = -3
				state = 892
			}
			add_resource = {
				type = advanced
				amount = -3
				state = 892
			}
			add_resource = {
				type = composites
				amount = 3
				state = 908
			}
			add_resource = {
				type = advanced
				amount = 3
				state = 908
			}
			add_resource = {
				type = metal
				amount = 8
				state = 908
			}
			add_resource = {
				type = water
				amount = 6
				state = 908
			}
			add_resource = {
				type = energy
				amount = 2
				state = 908
			}
			892 = {
				remove_building = { type = arms_factory level = 2 }
				remove_building = { type = industrial_complex level = 1 }
				set_temp_variable = {
					pop_add = -1500
				}
				add_state_population = yes
			}
			908 = {
				if = {
					limit = {
						is_valid_state_for_arms_factory = yes
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
				if = {
					limit = {
						is_valid_state_for_civilian_factory = yes
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
			910 = {
				add_extra_state_shared_building_slots = 2
			}
			903 = {
				add_extra_state_shared_building_slots = 2
			}
			909 = {
				add_extra_state_shared_building_slots = 2
			}
			799 = {
				add_extra_state_shared_building_slots = 2
			}
			set_province_name = {
				id = 11427
				name = VICTORY_POINTS_11427_ACH
			}
			set_province_name = {
				id = 11429
				name = VICTORY_POINTS_11429_ACH
			}
			ACH = {
				leave_current_faction = yes
				drop_cosmetic_tag = YES
				add_ideas = {
					ach_hardliners
				}
			}
		}
		TBH = {
			add_ideas = {
				texas_rework_non_existent_army
				texas_rework_no_research
				texas_rework_broken_economy
			}
			bos_remove_from_ledger = yes
			add_stability = -1
		}
	}

	option = {
		name = nf_tbh.25.a
	}
}

news_event = { #DSP invasion of ASS
	immediate = { log = "[GetDateText]: [Root.GetName]: event texas_rework.901" }
	id = texas_rework.901
	title = texas_rework.901.t
	desc = texas_rework.901.desc
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_event_sub_generic_container_bazaar

	immediate = {
		DSP = {
			declare_war_on = {
				target = ASS
				type = annex_everything
			}
		}
	}

	option = {
		name = texas_rework.901.a
	}
}

news_event = { #annexation of Assassin city
	immediate = { log = "[GetDateText]: [Root.GetName]: event texas_rework.9011" }
	id = texas_rework.9011
	title = texas_rework.9011.t
	desc = texas_rework.9011.desc
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_event_sub_generic_container_bazaar

	immediate = {
		every_state = {
			limit = {
				is_core_of = ASS
			}
			set_state_flag = do_not_exodus
			remove_core_of = ASS
			remove_claim_by = ASS
		}
		878 = {
			add_core_of = TBH
		}
		881 = {
			add_core_of = DSP
			transfer_state_to = DSP
		}
		1525 = {
			add_core_of = DSP
			transfer_state_to = DSP
		}
		ASS = {
			leave_current_faction = yes
            every_unit_leader = {
                set_nationality = TBH
            }
            every_navy_leader = {
                set_nationality = TBH
            }
			transfer_navy = { target = TBH }
				transfer_navy = { target = TBH }
			delete_unit = {
				disband = yes
			}
		}
		TBH = {
			set_technology = { skater_tech = 1 }
			annex_country = {
				target = ASS
				transfer_troops = yes
			}
			load_oob = "TBH_assassin_city"
		}
		every_state = {
			limit = {
				is_core_of = TBH
				has_state_flag = do_not_exodus
			}
			clr_state_flag = do_not_exodus
		}
		every_state = {
			limit = {
				is_core_of = DSP
				has_state_flag = do_not_exodus
			}
			clr_state_flag = do_not_exodus
		}
		hidden_effect = {
			TBH = {
				delete_unit_template_and_units = {
					division_template = "Skate Infantry"
				}
			}
		}
	}

	option = {
		name = texas_rework.9011.a
	}
}

news_event = { #larger annexation of Assassin city
	immediate = { log = "[GetDateText]: [Root.GetName]: event texas_rework.9012" }
	id = texas_rework.9012
	title = texas_rework.9012.t
	desc = texas_rework.9012.desc
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_event_sub_generic_container_bazaar

	immediate = {
		every_state = {
			limit = {
				is_core_of = ASS
			}
			set_state_flag = do_not_exodus
			remove_core_of = ASS
			remove_claim_by = ASS
		}
		878 = {
			add_core_of = TBH
		}
		881 = {
			add_core_of = TBH
		}
		1525 = {
			add_core_of = DSP
			transfer_state_to = DSP
		}
		ASS = {
			leave_current_faction = yes
            every_unit_leader = {
                set_nationality = TBH
            }
            every_navy_leader = {
                set_nationality = TBH
            }
			transfer_navy = { target = TBH }
				transfer_navy = { target = TBH }
			delete_unit = {
				disband = yes
			}
		}
		TBH = {
			set_technology = { skater_tech = 1 }
			annex_country = {
				target = ASS
				transfer_troops = yes
			}
			load_oob = "TBH_assassin_city_greater"
		}
		every_state = {
			limit = {
				is_core_of = TBH
				has_state_flag = do_not_exodus
			}
			clr_state_flag = do_not_exodus
		}
		every_state = {
			limit = {
				is_core_of = DSP
				has_state_flag = do_not_exodus
			}
			clr_state_flag = do_not_exodus
		}
		hidden_effect = {
			TBH = {
				delete_unit_template_and_units = {
					division_template = "Skate Infantry"
				}
			}
		}
	}

	option = {
		name = texas_rework.9012.a
	}
}

news_event = { #CWB invasion of TLL
	immediate = { log = "[GetDateText]: [Root.GetName]: event texas_rework.902" }
	id = texas_rework.902
	title = texas_rework.902.t
	desc = texas_rework.902.desc
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_event_sub_generic_container_bazaar

	immediate = {
		CWB = {
			declare_war_on = {
				target = TLL
				type = annex_everything
			}
		}
	}

	option = {
		name = texas_rework.902.a
	}
}

news_event = { #annexation of the last lodge
	immediate = { log = "[GetDateText]: [Root.GetName]: event texas_rework.9021" }
	id = texas_rework.9021
	title = texas_rework.9021.t
	desc = texas_rework.9021.desc
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_event_sub_generic_container_bazaar

	immediate = {
		every_state = {
			limit = {
				is_core_of = TLL
			}
			set_state_flag = do_not_exodus
			remove_core_of = TLL
			remove_claim_by = TLL
		}
		902 = {
			add_core_of = TBH
		}
		898 = {
			add_core_of = CWB
			transfer_state_to = CWB
		}
		899 = {
			add_core_of = CWB
			transfer_state_to = CWB
		}
		TLL = {
            every_unit_leader = {
                set_nationality = TBH
            }
            every_navy_leader = {
                set_nationality = TBH
            }
			transfer_navy = { target = TBH }
				transfer_navy = { target = TBH }
			delete_unit = {
				disband = yes
			}
		}
		TBH = {
			annex_country = {
				target = TLL
				transfer_troops = yes
			}
			load_oob = "TBH_last_lodge"
		}
		every_state = {
			limit = {
				is_core_of = TBH
				has_state_flag = do_not_exodus
			}
			clr_state_flag = do_not_exodus
		}
		every_state = {
			limit = {
				is_core_of = CWB
				has_state_flag = do_not_exodus
			}
			clr_state_flag = do_not_exodus
		}
	}

	option = {
		name = texas_rework.9021.a
	}
}

news_event = { #larger annexation of the last lodge
	immediate = { log = "[GetDateText]: [Root.GetName]: event texas_rework.9022" }
	id = texas_rework.9022
	title = texas_rework.9022.t
	desc = texas_rework.9022.desc
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_event_sub_generic_container_bazaar

	immediate = {
		every_state = {
			limit = {
				is_core_of = TLL
			}
			set_state_flag = do_not_exodus
			remove_core_of = TLL
			remove_claim_by = TLL
		}
		902 = {
			add_core_of = TBH
		}
		898 = {
			add_core_of = TBH
		}
		899 = {
			add_core_of = CWB
			transfer_state_to = CWB
		}
		TLL = {
            every_unit_leader = {
                set_nationality = TBH
            }
            every_navy_leader = {
                set_nationality = TBH
            }
			transfer_navy = { target = TBH }
				transfer_navy = { target = TBH }
			delete_unit = {
				disband = yes
			}
		}
		TBH = {
			annex_country = {
				target = TLL
				transfer_troops = yes
			}
			load_oob = "TBH_last_lodge_greater"
		}
		every_state = {
			limit = {
				is_core_of = TBH
				has_state_flag = do_not_exodus
			}
			clr_state_flag = do_not_exodus
		}
		every_state = {
			limit = {
				is_core_of = CWB
				has_state_flag = do_not_exodus
			}
			clr_state_flag = do_not_exodus
		}
	}

	option = {
		name = texas_rework.9022.a
	}
}

news_event = { #CAR invasion of HRO
	immediate = { log = "[GetDateText]: [Root.GetName]: event texas_rework.903" }
	id = texas_rework.903
	title = texas_rework.903.t
	desc = texas_rework.903.desc
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_event_sub_generic_container_bazaar

	immediate = {
		CAR = {
			declare_war_on = {
				target = HRO
				type = annex_everything
			}
		}
	}

	option = {
		name = texas_rework.903.a
	}
}

news_event = { #annexation of houston
	immediate = { log = "[GetDateText]: [Root.GetName]: event texas_rework.9031" }
	id = texas_rework.9031
	title = texas_rework.9031.t
	desc = texas_rework.9031.desc
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_event_sub_generic_container_bazaar

	immediate = {
		every_state = {
			limit = {
				is_core_of = HRO
			}
			set_state_flag = do_not_exodus
			remove_core_of = HRO
			remove_claim_by = HRO
		}
		879 = {
			add_core_of = CAR
			transfer_state_to = CAR
		}
		882 = {
			add_core_of = CAR
			transfer_state_to = CAR
		}
		880 = {
			add_core_of = TBH
		}
		904 = {
			add_core_of = TBH
		}
		HRO = {
            every_unit_leader = {
                set_nationality = TBH
            }
            every_navy_leader = {
                set_nationality = TBH
            }
			transfer_navy = { target = TBH }
				transfer_navy = { target = TBH }
			delete_unit = {
				disband = yes
			}
		}
		TBH = {
			annex_country = {
				target = HRO
				transfer_troops = yes
			}
			load_oob = "TBH_houston"
		}
		every_state = {
			limit = {
				is_core_of = TBH
				has_state_flag = do_not_exodus
			}
			clr_state_flag = do_not_exodus
		}
		every_state = {
			limit = {
				is_core_of = CAR
				has_state_flag = do_not_exodus
			}
			clr_state_flag = do_not_exodus
		}
	}

	option = {
		name = texas_rework.9031.a
	}
}

news_event = { #larger annexation of houston
	immediate = { log = "[GetDateText]: [Root.GetName]: event texas_rework.9032" }
	id = texas_rework.9032
	title = texas_rework.9032.t
	desc = texas_rework.9032.desc
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_event_sub_generic_container_bazaar

	immediate = {
		every_state = {
			limit = {
				is_core_of = HRO
			}
			set_state_flag = do_not_exodus
			remove_core_of = HRO
			remove_claim_by = HRO
		}
		879 = {
			add_core_of = CAR
			transfer_state_to = CAR
		}
		882 = {
			add_core_of = TBH
		}
		880 = {
			add_core_of = TBH
		}
		904 = {
			add_core_of = TBH
		}
		HRO = {
            every_unit_leader = {
                set_nationality = TBH
            }
            every_navy_leader = {
                set_nationality = TBH
            }
			transfer_navy = { target = TBH }
				transfer_navy = { target = TBH }
			delete_unit = {
				disband = yes
			}
		}
		TBH = {
			annex_country = {
				target = HRO
				transfer_troops = yes
			}
			load_oob = "TBH_houston_greater"
		}
		every_state = {
			limit = {
				is_core_of = TBH
				has_state_flag = do_not_exodus
			}
			clr_state_flag = do_not_exodus
		}
		every_state = {
			limit = {
				is_core_of = CAR
				has_state_flag = do_not_exodus
			}
			clr_state_flag = do_not_exodus
		}
	}

	option = {
		name = texas_rework.9032.a
	}
}

news_event = { #raider pact forms
	immediate = { log = "[GetDateText]: [Root.GetName]: event texas_rework.904" }
	id = texas_rework.904
	title = texas_rework.904.t
	desc = texas_rework.904.desc
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_event_sub_generic_container_bazaar

	immediate = {
		CAR = {
			create_faction = "Raider Pact"
			add_to_faction = DSP
			add_opinion_modifier = {
				target = GAM
				modifier = texas_rework_raider_pact_opinion_modifier
			}
			add_opinion_modifier = {
				target = DSP
				modifier = texas_rework_raider_pact_opinion_modifier
			}
		}
		GAM = {
			add_opinion_modifier = {
				target = DSP
				modifier = texas_rework_raider_pact_opinion_modifier
			}
			add_opinion_modifier = {
				target = CAR
				modifier = texas_rework_raider_pact_opinion_modifier
			}
			add_ideas = {
				texas_rework_raider_pact_support
			}
		}
		DSP = {
			add_opinion_modifier = {
				target = GAM
				modifier = texas_rework_raider_pact_opinion_modifier
			}
			add_opinion_modifier = {
				target = CAR
				modifier = texas_rework_raider_pact_opinion_modifier
			}
		}
	}

	option = {
		name = texas_rework.904.a
	}
}

news_event = { #The Patrolmen flee east
	immediate = { log = "[GetDateText]: [Root.GetName]: event texas_rework.905" }
	id = texas_rework.905
	title = texas_rework.905.t
	desc = texas_rework.905.desc
	# is_triggered_only = yes
	# fire_only_once = yes
	picture = GFX_event_sub_generic_container_bazaar

	immediate = {
		CAR = {
			add_to_faction = GAM
			add_opinion_modifier = {
				target = ORR
				modifier = texas_rework_raider_pact_opinion_modifier
			}
		}
		GAM = {
			add_opinion_modifier = {
				target = ORR
				modifier = texas_rework_raider_pact_opinion_modifier
			}
			remove_ideas = {
				texas_rework_raider_pact_support
			}
		}
		DSP = {
			add_opinion_modifier = {
				target = ORR
				modifier = texas_rework_raider_pact_opinion_modifier
			}
		}
		ORR = {
			add_opinion_modifier = {
				target = GAM
				modifier = texas_rework_raider_pact_opinion_modifier
			}
			add_opinion_modifier = {
				target = CAR
				modifier = texas_rework_raider_pact_opinion_modifier
			}
			add_opinion_modifier = {
				target = DSP
				modifier = texas_rework_raider_pact_opinion_modifier
			}
			add_ideas = {
				texas_rework_raider_pact_support
			}
		}
	}

	option = {
		name = texas_rework.905.a
	}
}

news_event = { #Patrolmen victory
	immediate = { log = "[GetDateText]: [Root.GetName]: event texas_rework.906" }
	id = texas_rework.906
	title = texas_rework.906.t
	desc = texas_rework.906.desc
	# is_triggered_only = yes
	# fire_only_once = yes
	picture = GFX_event_sub_generic_container_bazaar

	immediate = {
		TBH = {
			add_to_faction = TPM
		}
	}

	option = {
		name = texas_rework.906.a
	}
}





# country_event = { #
# 	immediate = { log = "[GetDateText]: [Root.GetName]: event texas_rework.90" }
# 	id = texas_rework.90
# 	title = texas_rework.90.t
# 	desc = texas_rework.90.desc
# 	is_triggered_only = yes
# 	fire_only_once = yes
# 	picture = GFX_event_sub_generic_container_bazaar


# 	option = {
# 		name = texas_rework.90.a
# 	}
# }

